{% extends 'base.html.twig' %}

{% block title %}Mes fiches{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <div class="example-wrapper">
        <h1> Vos fiches de frais</h1>

        <form action= {{ path('app_mes_fiches') }} method="GET">
            <label for="dateFiche">Choisissez le mois et l'année de la fiche à afficher</label><br>
            <input type="month" id="dateFiche" name="dateFicheFrais" value="2023-07"/>
            <input type="submit" value="Voir la fiche"/>
        </form>
    </div>

    <hr>

    {% if ficheDate is not null %}

        <table class="table table-bordered">
            <tbody>
            <tr>
                <th>ID</th>
                <td>{{ ficheDate.getId() }}</td>
            </tr>
            <tr>
                <th>État ID</th>
                <td>{{ ficheDate.getEtat().getLibelle }}</td>
            </tr>
            <tr>
                <th>Nom User</th>
                <td>{{ ficheDate.getUser().getNom() }}</td>
            </tr>
            <tr>
                <th>Mois</th>
                <td>{{ ficheDate.getMois() }}</td>
            </tr>
            <tr>
                <th>Nb Justificatifs</th>
                <td>{{ ficheDate.getNbJustificatifs() }}</td>
            </tr>
            <tr>
                <th>Montant Validé</th>
                <td>{{ ficheDate.getMontantValid() }}</td>
            </tr>
            <tr>
                <th>Date de Modification</th>
                <td>{{ ficheDate.getDateModif()|date('Y-m-d H:i:s') }}</td>
            </tr>
            </tbody>
        </table>

    {% else %}
        <h1 style="color: red;">Aucune fiches trouvées</h1>
    {% endif %}
{% endblock %}
